<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>logic page (s21_tetris)</title>

<meta name="description" content="logic page (s21_tetris)">
<meta name="keywords" content="logic page (s21_tetris)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="index.html" rel="up" title="Top">
<link href="gui-page.html" rel="prev" title="gui page">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="chapter" id="logic-page">
<div class="header">
<p>
Previous: <a href="gui-page.html" accesskey="p" rel="prev">gui</a>, Up: <a href="index.html" accesskey="u" rel="up">s21_tetris</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<hr>
<span id="logic-page-1"></span><h2 class="chapter">2 logic page</h2>
<p><code>void main_game()</code>
- starts main cycle and change speed of falling figure
</p>
<p><code>int init_object(GameInfo_t *var, FILE *file)</code>
- init main structure GameInfo_t, allocation of memory for this structure. Returns 0 - success , 1 - error.
</p>
<p><code>int memory_allocation_field(GameInfo_t *var)</code> - allocation memory for field. Returns 0 - success , 1 - error.
</p>
<p><code>void free_field(GameInfo_t *var)</code> - free memory of field
</p>
<p><code>void free_next(GameInfo_t *var)</code> - free memory of next figure
</p>
<p><code>int read_high_score(int *high_score, FILE *file)</code> - read high score from file. Returns 0 - success , 1 - error.
</p>
<p><code>int init_ints(GameInfo_t *var)</code> - initialization ints of structure. Returns 0 - success , 1 - error.
</p>
<p><code>int init_next_figure(GameInfo_t *var)</code> - initialization random figure from 7 samples. Returns 0 - success , 1 - error.
</p>
<p><code>int memory_allocation_next(GameInfo_t *var)</code> - allocation memory for next figure. Returns 0 - success , 1 - error.
</p>
<p><code>int init_current_figure(figure *current, int **ptr_next)</code> - filling matrix current figure from next matrix. Returns 0 - success , 1 - error.
</p>
<p><code>GameInfo_t updateCurrentState()</code> - moving figure at one point down. Returns changed structure.
</p>
<p><code>GameInfo_t writening_current_figure(int new_current, int new_game, int update, UserAction_t action)</code> - main function which contains static variables, logic of update state from period or input of user. Returns changed structure.
</p>
<p><code>int move_down(figure *var),int move_up(figure *var), int move_left(figure *var),int move_right(figure *var) </code> - changing coordinates of figure. Returns 0 - success , 1 - error.
</p>
<p><code>int collision(GameInfo_t var, figure current)</code> - check of collision figure with field. Returns 0 - success , 1 - error.
</p>
<p><code>int put_current(GameInfo_t *var, figure current)</code> - putting current figure in field, when was collision. Returns 0 - success , 1 - error.
</p>
<p><code>int count_points(GameInfo_t *var)</code> - count points depending filled lines. Returns quantity of poins. 
</p>
<p><code>int filled_line(int i, GameInfo_t *var)</code> - count filled lines. Returns 0 - success , 1 - error.
</p>
<p><code>int move_upper_lines(int i, GameInfo_t *var)</code> - moves unfilled lines after erasing filled lines. Returns 0 - success , 1 - error.
</p>
<p><code>int update_score(GameInfo_t *var)</code> - update high_score when score equal or more than high . Returns 0 - success , 1 - error.
</p>
<p><code>int create_new_figure(GameInfo_t *var, figure *current)</code> - create new figure and next figure. Returns 0 - success , 1 - error.
</p>
<p><code>void free_figure(figure *var)</code> - free memory of figure
</p>
<p><code>int memory_allocation_figure(figure *var)</code> - allocation of memory for figure. Returns 0 - success , 1 - error.
</p>
<p><code>int erase_field(GameInfo_t *var, figure current)</code> - erase field when line is filled. Returns 0 - success , 1 - error.
</p>
<p><code>void userInput(UserAction_t action, bool hold)</code> - processing actions of user
</p>
<p><code>void free_in_the_end_of_game(GameInfo_t *var, figure *current)</code> - free all memory in the end of game
</p>
<p><code>int rotate_figure(GameInfo_t *var, figure *current)</code> - rotate current figure and processing of collision if it was. Returns 0 - success , 1 - error.
</p>
<p><code>int clear_field(GameInfo_t *var)</code> - clear_field for restart . Returns 0 - success , 1 - error. 
</p>
<p><code>int writening_high_score(int score)</code> - writening current high score in a file. Returns 0 - success , 1 - error.
</p>
<p><code>int square(figure *figure)</code> - check figure square it or not . Returns 0 - success , 1 - error.
</p>
<p><code>GameInfo_t do_action(GameInfo_t *var, figure *current, UserAction_t action, int check_high_score)</code> - processing of action of user. Returns changed structure.
</p></div>
<hr>
<div class="header">
<p>
Previous: <a href="gui-page.html">gui</a>, Up: <a href="index.html">s21_tetris</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>



</body>
</html>
